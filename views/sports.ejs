<!DOCTYPE html> 
<html> 
<head> 
<%- include ('./partials/header') %> 
</head> 
<style>
    .carousel-control-prev-icon,
    .carousel-control-next-icon {
    height: 100px;
    width: 100px;
    outline: black;
    background-size: 100%, 100%;
    border-radius: 50%;
    background-image: none;
    }

    .carousel-control-next-icon:after
    {
    content: '\203A';
    font-size: 70px;
    color: white;
    }

    .carousel-control-prev-icon:after {
    content: '\2039';
    font-size: 70px;
    color: white;
    }

    .button-color-fill{
        position:absolute;
        width: 100%;
        height: 100%;
        top:0;
        left:0;
        background: linear-gradient(308deg, rgba(129,183,245,1) 0%, rgba(204,233,255,1) 100%);
        z-index:1;
        opacity: 0;
        transition: opacity 0.15s ease-in-out;
    }

    .leagueButtons:hover .button-color-fill{
        opacity:0.5;
        cursor:pointer;
    }
    

</style>
<body> 
    <div class="container mt-5">
            
            <div id="carouselExampleIndicators" class="carousel slide w-100" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner" style="width:100%; height:400px; background-color: grey; border-radius:15px 15px 15px 15px">
                    <div class="carousel-item active">
                        <div class="w-100 row" style="position:absolute;">
                            <div class="col-3"></div>
                            <div class="col-6 my-auto">
                                <div class="mt-5" style="display:inline-block">
                                    <h1 style="top: 20px; right: 20px; color:white; text-shadow: 1px 1px 2px black; font-weight:bold" class="my-auto"> 
                                        "<%= news[0].title%>"
                                    </h1><br>
                                    <a href="/sports/<%= news[0]._id%>" style="text-decoration:none">
                                        <button class="btn btn-block" style="box-shadow: 2px 2px 3px black; background: linear-gradient(90deg, rgba(0,198,255,1) 0%, rgba(0,123,198,1) 100%); color:white; font-weight:bold; border-radius:500px">
                                            Read Article
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <img class="d-block w-100" src="<%= news[0].image %>" alt="Third slide">
                    </div>
                    <div class="carousel-item">
                        <div class="row w-100 pl-3" style="position:absolute;">
                            <div class="col-3"></div>
                            <div class="col-6 my-auto">
                                <div class="mt-5" style="display:inline-block">
                                    <h1 style="color:white; text-shadow: 2px 2px 3px black; font-weight:bold" class="my-auto"> 
                                        "<%= news[1].title%>"
                                    </h1><br>
                                    <a href="/sports/<%= news[1]._id%>" style="text-decoration:none">
                                        <button class="btn btn-block" style="box-shadow: 2px 2px 3px black; background: linear-gradient(90deg, rgba(0,198,255,1) 0%, rgba(0,123,198,1) 100%); color:white; font-weight:bold; border-radius:500px">
                                            Read Article
                                        </button>
                                    </a>
                                </div>
                            </div>
                            
                        </div>
                        <img class="d-block w-100" src="<%= news[1].image %>" alt="Third slide">
                    </div>
                    <div class="carousel-item" style="text-align:center">
                        <div class="w-100 row" style="position:absolute;">
                            <div class="col-3"></div>
                            <div class="col-6 my-auto">
                                <div class="mt-5" style="display:inline-block">
                                    <h1 style="top: 20px; right: 20px; color:white; text-shadow: 1px 1px 2px black; font-weight:bold" class="my-auto"> 
                                        "<%= news[2].title%>"
                                    </h1><br>
                                    <a href="/sports/<%= news[2]._id%>" style="text-decoration:none">
                                        <button class="btn btn-block" style="box-shadow: 1px 1px 2px black; background: linear-gradient(90deg, rgba(0,198,255,1) 0%, rgba(0,123,198,1) 100%); color:white; font-weight:bold; border-radius:500px">
                                            Read Article
                                        </button>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <img class="d-block w-100" src="<%= news[2].image %>" alt="Third slide">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
    </div>

    <div class="container mt-5">
        
            <form action="/search/Sport" method="POST" style="width:100%">
                <div class="input-group my-auto">
                    <input name="keyword" class="form-control w-100" placeholder="Search Sports..." style="border-radius: 500px 0 0 500px"/>
                    <div class="input-group-append">
                        
                        <button type="submit" class="btn btn-outline-dark" style="border-radius: 0 500px 500px 0">
                            <i class="fas fa-search"></i>
                        </button>

                    </div>
                </div>
            </form>
        
    </div>
   
   <div class = "container mt-5">
        <div class="card text-center mb-5" style="border-radius: 15px 15px 15px 15px; box-shadow: 0 1px 2px #ccc ; border:none;">
            <ul class="list-group list-group-flush">
                <li class="list-group-item" style="font-weight:bold; color:white; background: linear-gradient(90deg, rgba(115,0,124,1) 0%, rgba(2,0,36,1) 100%); border-radius: 15px 15px 0 0 "> 
                    <h4 style="font-weight:bold">Game Results</h4> 
                </li>
                <li id="eplButton" class="list-group-item leagueButtons" style=" font-weight:bold; color:white; background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-bottom:solid 1px #ddd"> 
                    <div class="button-color-fill"></div>
                    <img src="https://www.thesportsdb.com/images/media/league/badge/pdd43f1610891709.png/preview" style="height:50px; z-index:2">
                </li>
                <%- include ('./partials/sportScores', {teams:epl, teamsInfo:eplTeams, idName: "eplList"}) %> 
                <li id="nflButton" class="list-group-item leagueButtons" style=" font-weight:bold; color:white; background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-bottom:solid 1px #ddd"> 
                    <div class="button-color-fill"></div>
                    <img src="https://www.thesportsdb.com/images/media/league/badge/trppxv1421413032.png/preview" style="height:50px">
                </li>
                <%- include ('./partials/sportScores', {teams:nfl, teamsInfo:nflTeams, idName: "nflList"}) %> 
                <li id="nbaButton" class="list-group-item leagueButtons" style=" font-weight:bold; color:white; background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-bottom:solid 1px #ddd"> 
                    <div class="button-color-fill"></div>
                    <img src="https://www.thesportsdb.com/images/media/league/logo/ypuryw1421971236.png/preview" style="height:50px">
                </li>
                <%- include ('./partials/sportScores', {teams:nba, teamsInfo:nbaTeams, idName: "nbaList"}) %> 
                <li id="mlbButton" class="list-group-item leagueButtons" style=" font-weight:bold; color:white; background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-bottom:solid 1px #ddd"> 
                    <div class="button-color-fill"></div>
                    <img src="https://www.thesportsdb.com/images/media/league/badge/c5r83j1521893739.png/preview" style="height:50px">
                </li>
                <%- include ('./partials/sportScores', {teams:mlb, teamsInfo:mlbTeams, idName: "mlbList"}) %> 
                <li id="nhlButton" class="list-group-item leagueButtons" style=" font-weight:bold; color:white; background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-bottom:solid 1px #ddd"> 
                    <div class="button-color-fill"></div>
                    <img src="https://www.thesportsdb.com/images/media/league/badge/vxwtqq1421413200.png/preview" style="height:50px">
                </li>
                <%- include ('./partials/sportScores', {teams:nhl, teamsInfo:nhlTeams, idName: "nhlList"}) %> 
            </ul>
            <div class="card-footer text-muted" style="background: linear-gradient(308deg, rgba(200,129,245,1) 0%, rgba(240,204,255,1) 100%); border-radius: 0 0 15px 15px; border-top:0">
                <small><span style="color:white; font-weight:bold">Last 15 Game Results for Each Popular Leagues.</span></small>
            </div>
        </div>
        
        <div class="card w-100" style="border:none; box-shadow: 0 1px 2px #ccc; border-radius:15px">
             <div class="card-header" style ="border-radius: 15px 15px 0 0 ;background: linear-gradient(90deg, rgba(115,0,124,1) 0%, rgba(2,0,36,1) 100%); color:white; font-weight:bold">
                <div class="container">
                    <div class="row my-auto">
                        <div class = "col-3"></div>
                        <div class = "col-6 my-auto" style="text-align:center;">
                            More News ...
                        </div>
                        <div class = "col-3">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <button class="btn btn-light" style="border: 1px solid #ced4da; border-right:none; background-color:white; border-radius: 500px 0 0 500px">
                                        <img style="z-index:10000; height:20px; width: 20px"src="https://img.icons8.com/color/48/000000/google-logo.png"/>
                                    </button>
                                </div>
                                <input class="form-control w-100" placeholder="Search More..." id="searchInput"/>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-light" type="button" id="searchGoogle" style="border-radius: 0 500px 500px 0">
                                        <i class="fas fa-search"></i>
                                    </button>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body"style="height:500px; overflow-y:auto; overflow-x:hidden">
                <% for(let n of news){ %>
                    <a href="/sports/<%=n._id%>" style="text-decoration:none; cursor:pointer">
                         <div class="card my-3 py-3" style="background-color: #eee; box-shadow: 0 1px 2px #ccc; border:none; height: 7em">
                            <div class="container">
                                <div class="row">
                                    <div class="col-9">
                                        <h4 style="font-family: Arial; font-weight:bold ;color: black"> <%= n.title%> </h4>
                                        <small style="color:grey"> Updated At: <%= new Date(n.updatedAt).toLocaleDateString("en-US") %> </small>
                                    </div>
                                    <div class="col-3" style="text-align:center; border-left: dashed 1px #ccc">
                                        <img style= "height: 5em; width: 70%; border-radius: 10px"src="<%= n.image%>"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                <% } %>
            </div>
            <div class="card-footer" style="text-align:center; border-radius: 0 0 15px 15px">
                We have so many more exciting articles to read!
            </div>
        </div>
        
        
   </div>

   <script>
        $("#searchGoogle").on('click',()=>{
            window.location = "https://news.google.com/search?q=sports%2C%20" + $("#searchInput").val();
        })

        let toggleTeams = (button, list) => {
            $(button).on('click',()=>{
                if($(list).css('height') !== '2px' && $(list).css('padding') !== '0px'){
                    $(list).css('height','2px');
                    $(list).css('padding','0px');
                    console.log($(list).css('height'));
                    console.log($(list).css('padding'));
                }else{
                    $(list).css('height','fit-content');
                    $(list).css('padding','0.75rem 1.25rem');
                }
            })
        }

        toggleTeams('#eplButton','#eplList');
        toggleTeams('#nflButton','#nflList');
        toggleTeams('#nbaButton','#nbaList');
        toggleTeams('#mlbButton','#mlbList');
        toggleTeams('#nhlButton','#nhlList');

        

   </script>
</body> 
<%- include ('./partials/footer') %> 
</html>




